params {
    genotypes = "data/chr*.{pgen,bim}"
    genotypes_bim_bed = "data/chr*.{bim,bed}"
    fam = "data/ukb15479.fam"
    ids_to_include = "data/ids_to_include.txt"
    phenotypes_file = "data/ukb43755.tab"
    phenotypes_to_include = "data/phenotypes_to_include.txt" 
    proj = "sens2017538"
}

profiles {
    bianca {
        process.executor = "slurm"
        process.clusterOptions = "-A ${params.proj} -p core"

        process {
            withLabel: "plink1" {
                module = "bioinfo-tools:plink"
            }
            withLabel: "plink2" {
                module = "bioinfo-tools:plink2"
                cpus = 8
            }
            withLabel: "bolt" {
                container = "~/sens2017538/nobackup/containers/bolt-lmm_2.3.4--hbe668fe_0.sif"
                singularity.enabled = true
                cpus = 8
            }
            withLabel: "R" {
                module = "R:R_packages"
                cpus = 1
            }

            withName: make_phenotypes {
                cpus = 8
                time = "1h"
            }
            withName: plink2 {
                time = "6h"
            }
            withName: plink2_hardcalls {
                time = "6h"
            }
            withName: regenie {
                container = '/path/to/singularity.img'
                singularity.enabled = true
            }
        }
    }
}